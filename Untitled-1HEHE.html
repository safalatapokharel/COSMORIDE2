 
<!-- Extra animated overlays for maximalist cosmos-tech look -->
<canvas id="shootingStarsCanvas" style="position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:4;pointer-events:none;"></canvas>
<canvas id="cometCanvas" style="position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:7;pointer-events:none;"></canvas>
<div id="floatingBinary" style="position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:5;pointer-events:none;font-family:'Fira Mono',monospace;font-size:1.1em;color:#b3e0ff;opacity:0.18;user-select:none;"></div>
<script>
// Animated shooting stars
function startShootingStars() {
  const canvas = document.getElementById('shootingStarsCanvas');
  if (!canvas) return;
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  <!-- Extra animated overlays for maximalist cosmos-tech look -->
  const ctx = canvas.getContext('2d');
  let shootingStars = [];
  function spawnStar() {
    const angle = Math.random() * Math.PI/3 - Math.PI/6;
    const x = Math.random() * canvas.width * 0.7 + canvas.width*0.15;
    shootingStars.push({
      x, y: -30, vx: 8*Math.cos(angle), vy: 8*Math.sin(angle)+2, len: 80+Math.random()*40, alpha: 1
    });
  }
  setInterval(spawnStar, 1200);
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for (const s of shootingStars) {
      ctx.save();
      ctx.globalAlpha = s.alpha;
      ctx.strokeStyle = '#fffbe7';
      ctx.shadowColor = '#ffd1dc';
      ctx.shadowBlur = 16;
      ctx.beginPath();
      ctx.moveTo(s.x, s.y);
      ctx.lineTo(s.x-s.vx*s.len*0.12, s.y-s.vy*s.len*0.12);
      ctx.lineWidth = 2.5;
      ctx.stroke();
      ctx.restore();
      s.x += s.vx;
      s.y += s.vy;
      s.alpha -= 0.012;
    }
    shootingStars = shootingStars.filter(s => s.alpha > 0 && s.y < canvas.height+40);
    requestAnimationFrame(draw);
  }
  draw();
}
window.addEventListener('DOMContentLoaded', startShootingStars);

// Floating binary code
function startFloatingBinary() {
  const binDiv = document.getElementById('floatingBinary');
  if (!binDiv) return;
  let binRows = [];
  for (let i=0; i<16; ++i) {
    let row = '';
    for (let j=0; j<32; ++j) row += Math.random()>0.5?'0':'1';
    binRows.push(row);
  }
  binDiv.innerHTML = binRows.map((r,i)=>`<div style="position:absolute;top:${i*6.2}vh;left:${(i*7)%100}vw;">${r}</div>`).join('');
}
window.addEventListener('DOMContentLoaded', startFloatingBinary);

// Glowing comet streak
function startComet() {
  const canvas = document.getElementById('cometCanvas');
  if (!canvas) return;
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);
  const ctx = canvas.getContext('2d');
  let comet = null;
  function spawnComet() {
    // Start from random left or right edge
    const fromLeft = Math.random() > 0.5;
    const y = 80 + Math.random() * (canvas.height - 160);
    comet = {
      x: fromLeft ? -80 : canvas.width + 80,
      y,
      vx: (fromLeft ? 1 : -1) * (8 + Math.random()*6),
      vy: 1.5 + Math.random()*2,
      len: 180 + Math.random()*80,
      alpha: 1,
      fromLeft
    };
  }
  setInterval(() => {
    if (!comet) spawnComet();
  }, 4000 + Math.random()*3000);
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    if (comet) {
      ctx.save();
      ctx.globalAlpha = comet.alpha;
      ctx.strokeStyle = '#fffbe7';
      ctx.shadowColor = '#ffd1dc';
      ctx.shadowBlur = 32;
      ctx.beginPath();
      ctx.moveTo(comet.x, comet.y);
      ctx.lineTo(comet.x - comet.vx*comet.len*0.12, comet.y - comet.vy*comet.len*0.12);
      ctx.lineWidth = 7;
      ctx.stroke();
      ctx.restore();
      comet.x += comet.vx;
      comet.y += comet.vy;
      comet.alpha -= 0.008;
      if ((comet.fromLeft && comet.x > canvas.width+100) || (!comet.fromLeft && comet.x < -100) || comet.alpha < 0.1) {
        comet = null;
      }
    }
    requestAnimationFrame(draw);
  }
  draw();
}
window.addEventListener('DOMContentLoaded', startComet);
</script>
  <!-- More cute cosmic icons -->
  <svg style="position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:6;pointer-events:none;" width="100vw" height="100vh">
    <!-- Flying Saucer -->
    <g id="flyingSaucer" transform="translate(700,120) scale(1.1)">
      <ellipse cx="0" cy="0" rx="18" ry="7" fill="#b3e0ff"/>
      <ellipse cx="0" cy="-4" rx="10" ry="5" fill="#fff6fa"/>
      <rect x="-8" y="2" width="16" height="4" rx="2" fill="#ffd1dc"/>
      <circle cx="0" cy="-7" r="3" fill="#ffd1dc"/>
      <!-- Saucer lights -->
      <circle cx="-10" cy="7" r="1.5" fill="#aee9f9"/>
      <circle cx="0" cy="8" r="1.5" fill="#ffd1dc"/>
      <circle cx="10" cy="7" r="1.5" fill="#b3e0ff"/>
    </g>
    <!-- Cartoon Rocket removed -->
    <!-- Saturn -->
    <g transform="translate(200,600) scale(1.2)">
      <ellipse cx="0" cy="0" rx="22" ry="12" fill="#ffd1dc"/>
      <ellipse cx="0" cy="0" rx="32" ry="4" fill="#b3e0ff" opacity="0.5"/>
      <ellipse cx="0" cy="0" rx="38" ry="2" fill="#aee9f9" opacity="0.3"/>
    </g>
    <!-- Pulsing tech node -->
    <circle id="pulseNode" cx="60%" cy="10%" r="10" fill="#fff" stroke="#ffd1dc" stroke-width="3" opacity="0.8"/>
    <!-- Green Alien removed -->
    <!-- Flying Saucer removed -->
    <!-- Satellite removed -->
    <!-- Starship removed -->
  </svg>
<script>
// Animate pulsing tech node
function animatePulseNode() {
  const node = document.getElementById('pulseNode');
  let t = 0;
  function pulse() {
    t += 0.04;
    if (node) {
      node.setAttribute('r', 10 + 4*Math.abs(Math.sin(t)));
      node.setAttribute('opacity', 0.7 + 0.3*Math.abs(Math.cos(t)));
    }
    requestAnimationFrame(pulse);
  }
  pulse();
}
window.addEventListener('DOMContentLoaded', animatePulseNode);
// Animate flying saucer in a random round-and-round pattern
function animateFlyingSaucer() {
  const saucer = document.getElementById('flyingSaucer');
  if (!saucer) return;
  // Random wandering pattern
  let x = 700, y = 120;
  let vx = 2 + Math.random()*2, vy = 1 + Math.random()*2;
  let t = 0;
  function animate() {
    t += 0.016;
    // Randomly change direction
    if (Math.random() < 0.02) vx += (Math.random()-0.5)*2;
    if (Math.random() < 0.02) vy += (Math.random()-0.5)*2;
    // Clamp speed
    vx = Math.max(-4, Math.min(4, vx));
    vy = Math.max(-3, Math.min(3, vy));
    x += vx;
    y += vy;
    // Bounce off edges
    if (x < 40) { x = 40; vx = Math.abs(vx); }
    if (x > window.innerWidth-40) { x = window.innerWidth-40; vx = -Math.abs(vx); }
    if (y < 40) { y = 40; vy = Math.abs(vy); }
    if (y > window.innerHeight-40) { y = window.innerHeight-40; vy = -Math.abs(vy); }
  // Only move, no spin
  saucer.setAttribute('transform', `translate(${x},${y}) scale(1.1)`);
    requestAnimationFrame(animate);
  }
  animate();
}
window.addEventListener('DOMContentLoaded', animateFlyingSaucer);
</script>
<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google Fonts for dripping blood font -->
</div>
<link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet">
<!-- Google Fonts for readable gothic with neon -->
<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
<!-- Google Fonts for neon blood-dripping gothic style -->
<link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet">
<!-- Google Fonts for blood-dripping gothic style -->
<link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
<!-- Google Fonts for cosmic/gothic style -->
<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ASTRONOMICAL RIDE</title>
<style>
  #cosmicLogo svg {
    transition: transform 1.1s cubic-bezier(.68,-0.55,.27,1.55);
    will-change: transform;
    cursor: pointer;
  }
  #cosmicLogo svg:hover {
    transform: rotate(380deg);
  }
  body {
    margin: 0;
    font-family: 'Comic Sans MS', cursive, sans-serif;
  }

  /* First page */
  #page1 {
  background: linear-gradient(135deg, #181c24 0%, #232526 100%);
  /* Dark cosmos-tech gradient */
  position: relative;
  overflow: hidden;
    height: 100vh;
    text-align: center;
    padding-top: 50px;
  }

  /* Second page */
  #page2 {
    display: none; /* hidden at first */
  background: url("https://i.pinimg.com/1200x/75/27/74/7527747dad152893fe44dd8ff0f1affa.jpg") center/cover no-repeat;
  /* Restored original cosmos image */
    height: 100vh;
    text-align: center;
    padding-top: 50px;
    color: white;
    
  }

  .bunny {
    width: 200px;
  }

  button {
    padding: 12px 25px;
    margin: 15px;
    font-size: 1.2em;
    border: none;
    border-radius: 15px;
    cursor: pointer;
    background-color: #ffd1dc;
    color: #ff4d94;
    box-shadow: 2px 2px #ffb3c6;
    transition: all 0.2s ease;
  }

  button:hover {
    transform: scale(1.1);
    box-shadow: 4px 4px #ffb3c6;
  }
  h1 {
  font-family: 'Pacifico', cursive;
  font-size: 3rem; /* extra cute size */
  color: #d39ce0;  /* pastel lavender vibe */
}

  /* Mascot container pointer cursor */
  .mascotContainer { cursor: pointer; }
</style>
<style>
/* Tech grid and overlay for cosmos */

#page1::after {
  content: "";
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: 1;
  background: linear-gradient(120deg, rgba(255,255,255,0.10) 0%, rgba(180,220,255,0.08) 100%);
  pointer-events: none;
}
/* Animated cute cosmos stars */
#cuteCosmoStars {
  position: absolute;
  top: 0; left: 0; width: 100vw; height: 100vh;
  z-index: 2;
  pointer-events: none;
}
</style>
</head>
<body style="background-color:rgb(77, 7, 7);">
<!-- Secret lower-left badge (hidden until selected) -->
<div id="secretBadge" style="position:fixed;left:14px;bottom:14px;z-index:3500;padding:8px 12px;border-radius:12px;background:linear-gradient(135deg, rgba(255,255,255,0.06), rgba(180,220,255,0.04));font-family:'Orbitron',sans-serif;font-size:0.85rem;backdrop-filter: blur(6px);box-shadow:0 8px 26px rgba(0,0,0,0.45);pointer-events:auto;opacity:0.95;transform:translateY(0);">
  <span class="secretText" style="filter:blur(0.6px);opacity:0.95;display:inline-block;color:transparent;-webkit-user-select:text;user-select:text;">YOU ARE CHOOSEN HUH</span>
</div>
<!-- Background music: use provided MP3 instead of YouTube -->
<audio id="bgAudio" src="https://many-lime-fr4rirueg7.edgeone.app/Audio_2025_10_07_16_20_23.mp3" preload="auto" loop style="display:none;"></audio>
<!-- Floating music control group (autoplay enabled) -->
<div id="musicControls" style="position:fixed;right:18px;bottom:18px;z-index:3200;display:flex;gap:10px;align-items:center;justify-content:center;padding:10px 14px 10px 10px;background:linear-gradient(120deg,#f8e1ff 0%,#b3e0ff 100%);border-radius:18px;box-shadow:0 8px 32px 0 rgba(180,220,255,0.18);backdrop-filter: blur(8px);">
  <!-- Super cute cosmic play button -->
  <button id="cuteCosmicPlayBtn" title="Play cosmic music!" aria-label="Play cosmic music" style="width:50px;height:50px;border-radius:50%;border:none;background:radial-gradient(circle at 60% 40%, #ffe1fa 0%, #b3e0ff 80%, #ffd1dc 100%);box-shadow:0 0 18px 6px #ffd1dc,0 0 28px 8px #b3e0ff inset;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;transition:transform 0.14s, box-shadow 0.14s;">
    <span id="cuteCosmicPlayAnim" style="position:absolute;top:-6px;left:-6px;width:62px;height:62px;pointer-events:none;z-index:0;">
      <!-- Animated cosmic sparkles -->
      <svg width="82" height="82" viewBox="0 0 82 82" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="41" cy="41" r="36" fill="#ffe1fa" opacity="0.18"/>
        <circle cx="18" cy="22" r="4" fill="#ffd1dc" opacity="0.7">
          <animate attributeName="r" values="4;7;4" dur="1.2s" repeatCount="indefinite"/>
        </circle>
        <circle cx="62" cy="18" r="3" fill="#b3e0ff" opacity="0.7">
          <animate attributeName="r" values="3;6;3" dur="1.1s" repeatCount="indefinite"/>
        </circle>
        <circle cx="70" cy="60" r="2.5" fill="#ffe1fa" opacity="0.7">
          <animate attributeName="r" values="2.5;5;2.5" dur="1.3s" repeatCount="indefinite"/>
        </circle>
        <circle cx="20" cy="65" r="3.5" fill="#b3e0ff" opacity="0.7">
          <animate attributeName="r" values="3.5;6;3.5" dur="1.4s" repeatCount="indefinite"/>
        </circle>
      </svg>
    </span>
  <svg id="cuteCosmicPlayIcon" width="26" height="26" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" style="z-index:1;">
      <!-- Play icon (cute) -->
      <ellipse cx="16" cy="16" rx="14" ry="14" fill="#fffbe7" stroke="#b3e0ff" stroke-width="2.5"/>
  <path id="cutePlayShape" d="M13 11v10l8-5z" fill="#b3e0ff"/>
      <!-- Smiling face -->
      <ellipse cx="13" cy="15" rx="1.2" ry="1.6" fill="#ffd1dc"/>
      <ellipse cx="19" cy="15" rx="1.2" ry="1.6" fill="#ffd1dc"/>
      <path d="M14 19 Q16 21 18 19" stroke="#ffd1dc" stroke-width="1.2" fill="none" stroke-linecap="round"/>
    </svg>
  </button>
  <input id="volumeSlider" type="range" min="0" max="1" step="0.01" value="0.6" title="Volume" aria-label="Volume" style="width:120px;">
</div>
<style>
  /* Cute cosmic play button hover/active */
  #cuteCosmicPlayBtn:hover {
    transform: scale(1.06) rotate(-4deg);
    box-shadow:0 0 24px 8px #ffd1dc,0 0 42px 12px #b3e0ff inset;
  }
  #cuteCosmicPlayBtn:active {
    transform: scale(0.98) rotate(1deg);
    box-shadow:0 0 12px 4px #ffd1dc,0 0 22px 6px #b3e0ff inset;
  }
</style>
<!-- Gothic Background Music (royalty-free) -->

<!-- Background Music (YouTube links cannot be used directly; using a sample audio as placeholder) -->
<!-- Custom Astronomical Popup Modal -->
<div id="astroModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(20,20,40,0.75);z-index:3000;align-items:center;justify-content:center;">
  <div style="background: radial-gradient(circle at 60% 40%, #232526 0%, #414345 100%); border-radius: 30px; box-shadow: 0 0 40px 10px #232526, 0 0 80px 20px #000 inset; padding: 48px 36px; text-align:center; color: #fff; max-width: 90vw; margin: auto; position:relative; z-index:1;">
    <div style="font-size:2.5rem; margin-bottom: 18px;">WELCOME SMART MIND🌌</div>
    <div style="font-size:1.3rem; margin-bottom: 24px;">Enjoy your cosmic journey!✨🪐</div>
    <button onclick="closeAstroModal()" style="background: linear-gradient(90deg,#83bfff,#2a5298,#0f2027,#2c5364); color: #fff; border:none; border-radius:18px; font-size:1.2em; padding:10px 32px; box-shadow:0 0 10px #2a5298; cursor:pointer;">OK</button>
  </div>
</div>


<!-- Flower Emojis Spanning the Screen -->
<div id="flowerSpan" style="position:fixed;top:10px;left:0;width:100vw;text-align:center;font-size:2.5rem;z-index:1100;pointer-events:none;user-select:none;">
  
</div>
<!-- Flower Emojis Falling Animation Canvas -->
<canvas id="petalCanvas" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:1000;"></canvas>

<!-- PAGE 1 -->
<div id="page1">
  <!-- Practical Math Theme Overlay -->
  <svg id="practicalMathOverlay" width="100vw" height="100vh" style="position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:4;pointer-events:none;">
    <!-- Coordinate grid -->
    <g opacity="0.10">
      <line x1="10%" y1="50%" x2="90%" y2="50%" stroke="#b3e0ff" stroke-width="2"/>
      <line x1="50%" y1="10%" x2="50%" y2="90%" stroke="#ffd1dc" stroke-width="2"/>
      <!-- Minor grid lines -->
      <line x1="30%" y1="10%" x2="30%" y2="90%" stroke="#fff" stroke-width="1"/>
      <line x1="70%" y1="10%" x2="70%" y2="90%" stroke="#fff" stroke-width="1"/>
      <line x1="10%" y1="30%" x2="90%" y2="30%" stroke="#fff" stroke-width="1"/>
      <line x1="10%" y1="70%" x2="90%" y2="70%" stroke="#fff" stroke-width="1"/>
    </g>
    <!-- Parabola y = x^2 -->
    <polyline points="40,400 60,360 80,330 100,310 120,300 140,298 160,305 180,320 200,345 220,380" fill="none" stroke="#ffe1fa" stroke-width="2.5" opacity="0.18"/>
    <!-- Sine wave -->
    <polyline points="10,250 30,230 50,210 70,230 90,250 110,270 130,290 150,270 170,250 190,230 210,210 230,230 250,250" fill="none" stroke="#aee9f9" stroke-width="2.5" opacity="0.16"/>
    <!-- Triangle with angle marks -->
    <polygon points="600,500 700,500 600,350" fill="none" stroke="#ffd1dc" stroke-width="2.5" opacity="0.18"/>
    <circle cx="600" cy="500" r="18" fill="none" stroke="#ffd1dc" stroke-width="1.5" opacity="0.18"/>
    <!-- Vector arrows -->
    <g opacity="0.18">
      <line x1="50%" y1="50%" x2="65%" y2="35%" stroke="#b3e0ff" stroke-width="2.5" marker-end="url(#arrowhead)"/>
      <line x1="50%" y1="50%" x2="35%" y2="65%" stroke="#ffd1dc" stroke-width="2.5" marker-end="url(#arrowhead)"/>
    </g>
    <!-- 3D cube wireframe -->
    <g opacity="0.13">
      <rect x="75" y="75" width="60" height="60" fill="none" stroke="#fff" stroke-width="1.5"/>
      <rect x="95" y="95" width="60" height="60" fill="none" stroke="#b3e0ff" stroke-width="1.5"/>
      <line x1="75" y1="75" x2="95" y2="95" stroke="#fff" stroke-width="1.5"/>
      <line x1="135" y1="75" x2="155" y2="95" stroke="#fff" stroke-width="1.5"/>
      <line x1="75" y1="135" x2="95" y2="155" stroke="#fff" stroke-width="1.5"/>
      <line x1="135" y1="135" x2="155" y2="155" stroke="#fff" stroke-width="1.5"/>
    </g>
    <defs>
      <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0 0, 8 3, 0 6" fill="#b3e0ff" />
      </marker>
    </defs>
    <!-- Cosmic visuals overlay -->
    <!-- Glowing planet (top left) -->
    <circle cx="120" cy="90" r="38" fill="#b3e0ff" opacity="0.18"/>
    <circle cx="120" cy="90" r="38" fill="url(#cosmoGlow1)" opacity="0.35"/>
    <!-- Small planet (top right) -->
    <circle cx="1100" cy="80" r="22" fill="#ffd1dc" opacity="0.16"/>
    <circle cx="1100" cy="80" r="22" fill="url(#cosmoGlow2)" opacity="0.28"/>
    <!-- Nebula (left side) -->
    <ellipse cx="60" cy="400" rx="38" ry="80" fill="#aee9f9" opacity="0.10"/>
    <ellipse cx="60" cy="400" rx="38" ry="80" fill="url(#cosmoGlow3)" opacity="0.18"/>
    <!-- Comet (upper right) -->
    <ellipse cx="1050" cy="120" rx="30" ry="8" fill="#fff" opacity="0.13"/>
    <rect x="1040" y="120" width="20" height="4" rx="2" fill="#ffd1dc" opacity="0.18"/>
    <!-- Extra glowing stars -->
    <circle cx="300" cy="120" r="6" fill="#fff" opacity="0.22"/>
    <circle cx="900" cy="200" r="8" fill="#ffe1fa" opacity="0.18"/>
    <circle cx="700" cy="80" r="5" fill="#ffd1dc" opacity="0.18"/>
    <circle cx="1000" cy="400" r="7" fill="#aee9f9" opacity="0.18"/>
    <defs>
      <radialGradient id="cosmoGlow1" cx="50%" cy="50%" r="60%">
        <stop offset="0%" stop-color="#fff" stop-opacity="0.7"/>
        <stop offset="60%" stop-color="#b3e0ff" stop-opacity="0.5"/>
        <stop offset="100%" stop-color="#aee9f9" stop-opacity="0.1"/>
      </radialGradient>
      <radialGradient id="cosmoGlow2" cx="50%" cy="50%" r="60%">
        <stop offset="0%" stop-color="#fff" stop-opacity="0.7"/>
        <stop offset="60%" stop-color="#ffd1dc" stop-opacity="0.5"/>
        <stop offset="100%" stop-color="#ffe1fa" stop-opacity="0.1"/>
      </radialGradient>
      <radialGradient id="cosmoGlow3" cx="50%" cy="50%" r="60%">
        <stop offset="0%" stop-color="#fff" stop-opacity="0.5"/>
        <stop offset="60%" stop-color="#aee9f9" stop-opacity="0.3"/>
        <stop offset="100%" stop-color="#b3e0ff" stop-opacity="0.05"/>
      </radialGradient>
    </defs>
    <!-- Lower screen practical math visuals -->
    <!-- Normal distribution curve -->
    <path d="M 200 700 Q 300 600 400 700 T 600 700" fill="none" stroke="#aee9f9" stroke-width="3" opacity="0.18"/>
    <!-- Area under curve (shaded) -->
    <path d="M 300 700 Q 350 650 400 700 L 400 730 L 300 730 Z" fill="#ffd1dc" opacity="0.10"/>
    <!-- Tangent line to parabola -->
    <line x1="120" y1="300" x2="220" y2="380" stroke="#ffe1fa" stroke-width="2.5" opacity="0.18" stroke-dasharray="8 6"/>
    <!-- Labeled points -->
    <circle cx="300" cy="700" r="7" fill="#fff" opacity="0.18"/>
    <text x="308" y="695" font-size="1.1rem" fill="#fff" opacity="0.18">A</text>
    <circle cx="400" cy="700" r="7" fill="#fff" opacity="0.18"/>
    <text x="408" y="695" font-size="1.1rem" fill="#fff" opacity="0.18">B</text>
    <!-- Matrix grid -->
    <g opacity="0.13">
      <rect x="700" y="650" width="60" height="60" fill="none" stroke="#b3e0ff" stroke-width="2"/>
      <line x1="720" y1="650" x2="720" y2="710" stroke="#b3e0ff" stroke-width="1.5"/>
      <line x1="740" y1="650" x2="740" y2="710" stroke="#b3e0ff" stroke-width="1.5"/>
      <line x1="700" y1="670" x2="760" y2="670" stroke="#b3e0ff" stroke-width="1.5"/>
      <line x1="700" y1="690" x2="760" y2="690" stroke="#b3e0ff" stroke-width="1.5"/>
    </g>
    <!-- Network/graph theory nodes -->
    <g opacity="0.13">
      <circle cx="900" cy="750" r="10" fill="#ffd1dc"/>
      <circle cx="940" cy="730" r="8" fill="#aee9f9"/>
      <circle cx="920" cy="790" r="7" fill="#b3e0ff"/>
      <line x1="900" y1="750" x2="940" y2="730" stroke="#fff" stroke-width="2"/>
      <line x1="900" y1="750" x2="920" y2="790" stroke="#fff" stroke-width="2"/>
      <line x1="940" y1="730" x2="920" y2="790" stroke="#fff" stroke-width="2"/>
    </g>
  </svg>
  <canvas id="cuteCosmoStars"></canvas>
  <!-- Tech + Cosmos SVG overlay -->
  <svg id="techCosmoOverlay" width="100vw" height="100vh" style="position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:3;pointer-events:none;">
    <!-- Animated holographic rings -->
    <g id="holoRings">
      <ellipse id="holoRing1" cx="50%" cy="60%" rx="120" ry="32" fill="none" stroke="#b3e0ff" stroke-width="3" opacity="0.5"/>
      <ellipse id="holoRing2" cx="30%" cy="30%" rx="60" ry="18" fill="none" stroke="#ffd1dc" stroke-width="2.5" opacity="0.4"/>
      <ellipse id="holoRing3" cx="75%" cy="25%" rx="40" ry="12" fill="none" stroke="#aee9f9" stroke-width="2" opacity="0.4"/>
    </g>
    <!-- Floating data panels -->
    <g id="dataPanels">
      <rect x="12%" y="12%" width="90" height="38" rx="10" fill="#fff" opacity="0.13" stroke="#b3e0ff" stroke-width="2"/>
      <rect x="70%" y="10%" width="80" height="32" rx="8" fill="#fff" opacity="0.13" stroke="#ffd1dc" stroke-width="2"/>
      <rect x="60%" y="80%" width="100" height="36" rx="12" fill="#fff" opacity="0.13" stroke="#aee9f9" stroke-width="2"/>
      <text x="18%" y="18%" font-size="13" fill="#b3e0ff" opacity="0.7">DATA: 42.0</text>

  <text x="78%" y="75%" font-size="13" fill="#aee9f9" opacity="0.7">ORBIT: 3.14</text>
    </g>
    <!-- Cute cosmic icons -->
    <g id="cosmoIcons">
      <!-- Rocket -->
      <g transform="translate(90,420) scale(1.2)">
        <rect x="8" y="12" width="12" height="32" rx="6" fill="#fff6fa" stroke="#b3e0ff" stroke-width="2"/>
        <polygon points="14,0 24,12 4,12" fill="#ffd1dc"/>
        <ellipse cx="14" cy="24" rx="4" ry="7" fill="#b3e0ff"/>
        <rect x="10" y="44" width="8" height="8" rx="4" fill="#ffd1dc"/>
      </g>
      <!-- UFO -->
      <g transform="translate(700,120) scale(1.1)">
        <ellipse cx="0" cy="0" rx="18" ry="7" fill="#b3e0ff"/>
        <ellipse cx="0" cy="-4" rx="10" ry="5" fill="#fff6fa"/>
        <rect x="-8" y="2" width="16" height="4" rx="2" fill="#ffd1dc"/>
        <circle cx="0" cy="-7" r="3" fill="#ffd1dc"/>
      </g>
      <!-- Satellite -->
      <g transform="translate(400,70) scale(1.1)">
        <rect x="-8" y="-4" width="16" height="8" rx="3" fill="#fff6fa" stroke="#b3e0ff" stroke-width="1.5"/>
        <rect x="-18" y="-2" width="10" height="4" rx="2" fill="#ffd1dc"/>
        <rect x="8" y="-2" width="10" height="4" rx="2" fill="#ffd1dc"/>
        <circle cx="0" cy="0" r="3" fill="#b3e0ff"/>
      </g>
    </g>
<script>
// Animate holographic rings (rotate and pulse)
function animateHoloRings() {
  const svg = document.getElementById('techCosmoOverlay');
  if (!svg) return;
  const ring1 = svg.getElementById ? svg.getElementById('holoRing1') : document.getElementById('holoRing1');
  const ring2 = svg.getElementById ? svg.getElementById('holoRing2') : document.getElementById('holoRing2');
  const ring3 = svg.getElementById ? svg.getElementById('holoRing3') : document.getElementById('holoRing3');
  let t = 0;
  function animate() {
    t += 0.016;
    if (ring1) {
      ring1.setAttribute('transform', `rotate(${Math.sin(t)*8} 50% 60%) scale(${1+0.04*Math.sin(t*2)})`);
    }
    if (ring2) {
      ring2.setAttribute('transform', `rotate(${-Math.cos(t)*12} 30% 30%) scale(${1+0.06*Math.cos(t*1.5)})`);
    }
    if (ring3) {
      ring3.setAttribute('transform', `rotate(${Math.sin(t*1.3)*18} 75% 25%) scale(${1+0.08*Math.sin(t*2.2)})`);
    }

    /* cute button initializer removed from animation loop and moved to top-level to avoid re-registration */
    }
    if (planet2 && sat3) {
      const cx = svg.width.baseVal.value * 0.22;
      const cy = svg.height.baseVal.value * 0.3;
      sat3.setAttribute('cx', cx + 40 * Math.cos(t + 1.2));
      sat3.setAttribute('cy', cy + 18 * Math.sin(t + 1.2));
    }
    if (planet3 && sat4) {
      const cx = svg.width.baseVal.value * 0.6;
      const cy = svg.height.baseVal.value * 0.18;
      sat4.setAttribute('cx', cx + 28 * Math.cos(t + 2.1));
      sat4.setAttribute('cy', cy + 12 * Math.sin(t + 2.1));
    }
    if (planet4 && sat5) {
      const cx = svg.width.baseVal.value * 0.15;
      const cy = svg.height.baseVal.value * 0.8;
      sat5.setAttribute('cx', cx + 18 * Math.cos(t + 0.7));
      sat5.setAttribute('cy', cy + 8 * Math.sin(t + 0.7));
    }
    requestAnimationFrame(animate);
  }
  animate();
}
// Hook the correct animator when DOM is ready
window.addEventListener('DOMContentLoaded', animateHoloRings);
</script>
  <!-- Animated Mascot: Astronaut -->
  <!-- ...existing code... -->
  <!-- ...existing code... -->
 <h1 id="mainCosmicHeading" style="font-family: 'Orbitron', 'UnifrakturCook', sans-serif; font-size: 3.2rem; letter-spacing:4px; margin-bottom: 18px; position:relative; color:transparent; -webkit-text-fill-color: transparent; background: linear-gradient(90deg,#bfefff,#ffd1dc,#fffbe7); -webkit-background-clip: text; background-clip: text; text-shadow: 0 2px 18px rgba(178,235,255,0.35), 0 0 36px rgba(179,224,255,0.12);">
  Ready for a Cosmic Voyage?
  <span style="position:absolute; left:50%; transform:translateX(-50%); bottom:-12px; pointer-events:none; width:260px; height:20px; display:block; opacity:0.95;">
    <!-- Gentle star wave underline -->
    <svg width="260" height="20" viewBox="0 0 260 20" preserveAspectRatio="none" style="display:block;">
      <path d="M0,8 Q30,20 60,8 Q90,20 120,8 Q150,20 180,8 Q210,20 240,8 Q260,8 260,20 L260,20 L0,20 Z" fill="rgba(255,255,255,0.06)"/>
      <g id="headingTwinkles" fill="#fffbe7" opacity="0.9">
        <circle cx="34" cy="6" r="1.6" />
        <circle cx="94" cy="4" r="1.2" />
        <circle cx="156" cy="6" r="1.4" />
        <circle cx="214" cy="5" r="1.1" />
      </g>
    </svg>
  </span>
 </h1>
<style>
  #page1 h1 {
    /* default h1 styles for page 1 (excluding the main cosmic heading) */
    font-family: 'Nosifer', cursive !important;
    font-size: 3rem !important;
    color: #fffbe7 !important;
    letter-spacing: 2px !important;
    text-shadow:
      0 0 8px #fffbe7,
      0 0 16px #fffbe7,
      0 0 32px #232526,
      0 2px 8px #000;
    margin-bottom: 18px !important;
    position: relative !important;
    background: none !important;
  }

  /* override for the main cosmic heading to use a cleaner space font */
  #mainCosmicHeading { font-family: 'Orbitron', sans-serif !important; -webkit-text-fill-color: transparent !important; }

  /* Twinkle animation for heading dots */
  @keyframes twinkle {
    0% { opacity: 0.6; transform: scale(0.9); }
    50% { opacity: 1; transform: scale(1.15); }
    100% { opacity: 0.6; transform: scale(0.9); }
  }
  #headingTwinkles circle { transform-origin: center; animation: twinkle 2.4s linear infinite; }
  #headingTwinkles circle:nth-child(1) { animation-delay: 0s; }
  #headingTwinkles circle:nth-child(2) { animation-delay: 0.4s; }
  #headingTwinkles circle:nth-child(3) { animation-delay: 0.8s; }
  #headingTwinkles circle:nth-child(4) { animation-delay: 1.2s; }
  /* secret badge pulse */
  @keyframes secretPulse {
    0% { transform: translateY(0) scale(1); opacity: 0.92; }
    50% { transform: translateY(-4px) scale(1.03); opacity: 1; }
    100% { transform: translateY(0) scale(1); opacity: 0.92; }
  }
  #secretBadge { animation: secretPulse 3.2s ease-in-out infinite; }
  /* reveal secret text only when selected */
  .secretText { color: transparent; }
  .secretText::selection { background: rgba(255,255,255,0.06); color: #ffd1dc; filter: none; }
  .secretText::-moz-selection { background: rgba(255,255,255,0.06); color: #ffd1dc; }
</style>
  
  <!-- Cosmic Gothic SVG Logo and Welcome -->
  <div id="cosmicLogo" style="margin: 0 auto 18px auto; display: flex; flex-direction: column; align-items: center;">
    <svg width="110" height="110" viewBox="0 0 110 110" style="margin-bottom: 10px;">
      <defs>
        <radialGradient id="cosmicGradient" cx="50%" cy="50%" r="60%">
          <stop offset="0%" stop-color="#fffbe7"/>
          <stop offset="60%" stop-color="#b8a1e3"/>
          <stop offset="100%" stop-color="#232526"/>
        </radialGradient>
        <filter id="glow" x="-40%" y="-40%" width="180%" height="180%">
          <feGaussianBlur stdDeviation="6" result="coloredBlur"/>
          <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>
      <ellipse cx="55" cy="55" rx="44" ry="44" fill="url(#cosmicGradient)" filter="url(#glow)"/>
      <ellipse cx="55" cy="55" rx="22" ry="22" fill="#232526" opacity="0.8"/>
      <ellipse cx="55" cy="55" rx="10" ry="10" fill="#fffbe7" opacity="0.7"/>
      <path d="M55 15 Q65 55 95 55 Q65 55 55 95 Q45 55 15 55 Q45 55 55 15 Z" fill="none" stroke="#fffbe7" stroke-width="2.5" filter="url(#glow)"/>
    </svg>
    <div style="font-family: 'UnifrakturCook', 'Orbitron', cursive; font-size: 2.3rem; color: #fffbe7; letter-spacing:2px; text-shadow: 0 0 12px #b8a1e3, 0 0 24px #232526; margin-top: 8px;">
  Welcome, mortal!
    </div>
  </div>
  <div>
    <div style="display:flex;align-items:center;justify-content:center;gap:32px;margin-top:10px;">
      <div class="mascotContainer" style="position:relative;">
        <div class="mascotSpeech" style="display:none;position:absolute;top:-60px;left:50%;transform:translateX(-50%);background:rgba(30,40,60,0.92);color:#fffbe7;padding:12px 22px;border-radius:18px;font-size:1.2em;box-shadow:0 2px 12px #232526;white-space:nowrap;pointer-events:none;">Hello, Earthling! 👋</div>
        <svg class="mascotAstronaut" width="120" height="160" viewBox="0 0 120 160" style="cursor:pointer;">
          <!-- Helmet -->
          <ellipse cx="60" cy="50" rx="38" ry="38" fill="#fff6fa" stroke="#ffb3d6" stroke-width="4"/>
          <!-- Eyes -->
          <ellipse class="mascotEyeL" cx="48" cy="50" rx="5" ry="8" fill="#4a2c2a"/>
          <ellipse class="mascotEyeR" cx="72" cy="50" rx="5" ry="8" fill="#4a2c2a"/>
          <!-- Cheeks -->
          <ellipse cx="44" cy="62" rx="5" ry="2.5" fill="#ffb3d6" opacity="0.7"/>
          <ellipse cx="76" cy="62" rx="5" ry="2.5" fill="#ffb3d6" opacity="0.7"/>
          <!-- Tiny smiling mouth (cute, closer to eyes) -->
          <path d="M56 64 A4 4 0 0 0 64 64" stroke="#4a2c2a" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
          <!-- Visor shine -->
          <ellipse cx="50" cy="40" rx="10" ry="4" fill="#fff" opacity="0.7"/>
          <!-- Body -->
          <rect x="38" y="80" width="44" height="48" rx="18" fill="#b3e0ff" stroke="#7ecfff" stroke-width="3"/>
          <!-- Left arm (waving/clapping) -->
          <g class="mascotArmL" style="transform-origin:40px 90px;">
            <rect x="22" y="90" width="18" height="10" rx="6" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2"/>
            <ellipse cx="22" cy="95" rx="6" ry="7" fill="#fff6fa" stroke="#b3e0ff" stroke-width="2"/>
          </g>
          <!-- Right arm (clapping) -->
          <rect class="mascotArmR" x="82" y="90" width="16" height="10" rx="6" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2" style="transform-origin:98px 95px; transform-box: fill-box;"/>
          <ellipse cx="98" cy="95" rx="6" ry="7" fill="#fff6fa" stroke="#b3e0ff" stroke-width="2"/>
          <!-- Legs -->
          <rect x="48" y="128" width="10" height="22" rx="5" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2"/>
          <rect x="62" y="128" width="10" height="22" rx="5" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2"/>
          <!-- Belly button/accent -->
          <ellipse cx="60" cy="104" rx="5" ry="3" fill="#ffd1dc" opacity="0.8"/>
        </svg>
      </div>
      <div style="display:flex;flex-direction:column;align-items:center;">
  <div style="font-family: 'Orbitron', 'UnifrakturCook', cursive; font-size: 1.1rem; color: #fffbe7; opacity:0.8; margin-bottom: 4px; letter-spacing:1px;">Do you wanna continue browsing?</div>
        <button onclick="goToPage2()" style="background: linear-gradient(120deg, #232526 0%, #414345 100%); color: #fff; box-shadow: 0 0 18px 6px #3a3a5a, 0 0 40px 10px #000 inset; border: 2px solid #5f5f8e; font-weight:bold; letter-spacing:1px; font-size:1.4em; padding:16px 36px; border-radius:30px;">YES</button>
      </div>
      <div class="mascotContainer" style="position:relative;">
        <div class="mascotSpeech" style="display:none;position:absolute;top:-60px;left:50%;transform:translateX(-50%);background:rgba(30,40,60,0.92);color:#fffbe7;padding:12px 22px;border-radius:18px;font-size:1.2em;box-shadow:0 2px 12px #232526;white-space:nowrap;pointer-events:none;">Hello, Earthling! 👋</div>
        <svg class="mascotAstronaut" width="120" height="160" viewBox="0 0 120 160" style="cursor:pointer;">
          <!-- Helmet -->
          <ellipse cx="60" cy="50" rx="38" ry="38" fill="#fff6fa" stroke="#ffb3d6" stroke-width="4"/>
          <!-- Eyes -->
          <ellipse class="mascotEyeL" cx="48" cy="50" rx="5" ry="8" fill="#4a2c2a"/>
          <ellipse class="mascotEyeR" cx="72" cy="50" rx="5" ry="8" fill="#4a2c2a"/>
          <!-- Cheeks -->
          <ellipse cx="44" cy="62" rx="5" ry="2.5" fill="#ffb3d6" opacity="0.7"/>
          <ellipse cx="76" cy="62" rx="5" ry="2.5" fill="#ffb3d6" opacity="0.7"/>
          <!-- Tiny smiling mouth (cute, closer to eyes) -->
          <path d="M56 64 A4 4 0 0 0 64 64" stroke="#4a2c2a" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
          <!-- Visor shine -->
          <ellipse cx="50" cy="40" rx="10" ry="4" fill="#fff" opacity="0.7"/>
          <!-- Body -->
          <rect x="38" y="80" width="44" height="48" rx="18" fill="#b3e0ff" stroke="#7ecfff" stroke-width="3"/>
          <!-- Left arm (waving/clapping) -->
          <g class="mascotArmL" style="transform-origin:40px 90px;">
            <rect x="22" y="90" width="18" height="10" rx="6" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2"/>
            <ellipse cx="22" cy="95" rx="6" ry="7" fill="#fff6fa" stroke="#b3e0ff" stroke-width="2"/>
          </g>
          <!-- Right arm (clapping) -->
          <rect class="mascotArmR" x="82" y="90" width="16" height="10" rx="6" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2" style="transform-origin:98px 95px; transform-box: fill-box;"/>
          <ellipse cx="98" cy="95" rx="6" ry="7" fill="#fff6fa" stroke="#b3e0ff" stroke-width="2"/>
          <!-- Legs -->
          <rect x="48" y="128" width="10" height="22" rx="5" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2"/>
          <rect x="62" y="128" width="10" height="22" rx="5" fill="#b3e0ff" stroke="#7ecfff" stroke-width="2"/>
          <!-- Belly button/accent -->
          <ellipse cx="60" cy="104" rx="5" ry="3" fill="#ffd1dc" opacity="0.8"/>
        </svg>
              </div>
            </div>
          </div>
        </div>
<!-- Floating return button for page1 (pink background) -->
<button id="floatingReturnPage1" onclick="backToMenuFromPage1()" title="Go to Menu" aria-label="Go to Menu" style="position:fixed;left:18px;top:18px;z-index:1100;width:56px;height:56px;border-radius:50%;border:none;background:linear-gradient(180deg,#ffd1dc,#ff9fb8);color:#2b1b2b;font-size:20px;box-shadow:0 8px 26px rgba(0,0,0,0.6);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform 0.18s ease, box-shadow 0.18s ease;">
  <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <path d="M7 7c-.8-1-2.5-1.2-3.5.2C1.8 9 2 11 3.5 12.2c1.3 1 3 0.8 4-0.4" fill="#fff" opacity="0.05"/>
    <path d="M9 9c0-2.2 1.8-4 4-4s4 1.8 4 4v1c0 1.9-1.6 3.5-3.5 3.5S10 13.9 10 12v-3z" fill="#fff" opacity="0.12"/>
  </svg>
</button>
<style>
  #floatingReturnPage1:hover{ transform:translateY(-6px) scale(1.06); box-shadow:0 14px 34px rgba(0,0,0,0.62); }
  #floatingReturnPage1:active{ transform:translateY(-2px) scale(0.98); }
</style>

<!-- PAGE 2 -->
<div id="page2">
  <!-- Gothic Background Music (royalty-free) -->
  <h1 style="font-family: 'Creepster', cursive; font-size: 3.1rem; color: #fffbe7; letter-spacing:2px; text-shadow: 0 2px 8px #000, 0 8px 24px #b8a1e3, 0 0 32px #000; margin-bottom: 18px; position:relative;">
    YOU HAVE ENTERED THE COSMIC REALM
    <span style="display:block; width:100%; height:18px; position:absolute; left:0; bottom:-10px; pointer-events:none;">
      <svg width="100%" height="18" viewBox="0 0 400 18" preserveAspectRatio="none" style="display:block;">
        <path d="M0,0 Q20,18 40,0 Q60,18 80,0 Q100,18 120,0 Q140,18 160,0 Q180,18 200,0 Q220,18 240,0 Q260,18 280,0 Q300,18 320,0 Q340,18 360,0 Q380,18 400,0 L400,18 L0,18 Z" fill="#b8a1e3"/>
      </svg>
    </span>
  </h1>
  <div style="font-family: 'Orbitron', 'UnifrakturCook', cursive; font-size: 1.5rem; color: #fffbe7; margin-bottom: 30px; text-shadow: 0 0 10px #232526;">
    Welcome, traveler. The stars align and the void whispers secrets.<br>
    <span style="color:#d7263d; font-family:'Creepster',cursive; font-size:1.2em;">Embrace the cosmic gothic night.</span>
  </div>
  <div style="display: flex; flex-direction: column; align-items: center; position: absolute; top: 65%; left: 50%; transform: translate(-50%, -50%); gap: 18px; z-index: 10;">
    <button onclick="backToPage1()" style="background: linear-gradient(90deg,#232526,#414345,#232526); color: #fffbe7; border:2px solid #b8a1e3; border-radius:18px; font-size:1.1em; padding:10px 32px; box-shadow:0 0 10px #b8a1e3;">⬅ Return to the Portal</button>
  <button onclick="goToAstronomicalDark()" style="background: linear-gradient(90deg,#1e3c72,#2a5298,#0f2027,#2c5364); color: #fff; box-shadow: 0 0 10px #2a5298;">Go to Astronomical Page 🌌</button>
    <button onclick="goToPage4()" style="background: linear-gradient(90deg,#f7971e,#ffd200,#f7971e,#ffd200); color: #222; box-shadow: 0 0 10px #ffd200;">Go to Physics Page ⚛️</button>
    <button onclick="goToPage5()" style="background: linear-gradient(90deg,#185a9d,#43cea2); color: #fff; box-shadow: 0 0 10px #43cea2; font-family: 'Orbitron', 'UnifrakturCook', cursive; font-size:1.1em; border-radius:18px; padding:10px 32px; border:2px solid #43cea2;">Go to Mathematics Page ∑</button>
  </div>

<!-- PAGE 4 (Physics Theme) -->
<div id="page4" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background: linear-gradient(135deg, #232526 0%, #414345 100%); color: #fff; z-index:2000; text-align:center;">
  <div style="position:absolute;top:0;left:0;width:100vw;height:100vh;overflow:hidden;pointer-events:none;z-index:1;">
    <canvas id="physicsCanvas" style="width:100vw;height:100vh;"></canvas>
  </div>
  <div style="position:relative;z-index:2;padding-top:80px;">
    <h1 style="font-size:3.5rem;letter-spacing:2px;">Welcome to the Physics Page! ⚛️</h1>
    <p style="font-size:2rem;">Physics in motion: bouncing balls, gravity, and fun! 🧲🪐</p>
  <button onclick="backToPage2From4()" style="margin-top:40px;background:#ffd200;color:#222;">⬅ Return to the Portal</button>
  </div>
    <!-- Floating return button for page4 -->
    <button id="floatingReturnPage4" onclick="backToPage2From4()" title="Return to Menu" aria-label="Return to Menu" style="position:fixed;left:18px;top:18px;z-index:2100;width:56px;height:56px;border-radius:50%;border:none;background:linear-gradient(180deg,#ffd1dc,#ff9fb8);color:#2b1b2b;font-size:20px;box-shadow:0 8px 26px rgba(0,0,0,0.6);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform 0.18s ease, box-shadow 0.18s ease;">
      <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M7 7c-.8-1-2.5-1.2-3.5.2C1.8 9 2 11 3.5 12.2c1.3 1 3 0.8 4-0.4" fill="#fff" opacity="0.05"/>
        <path d="M9 9c0-2.2 1.8-4 4-4s4 1.8 4 4v1c0 1.9-1.6 3.5-3.5 3.5S10 13.9 10 12v-3z" fill="#fff" opacity="0.12"/>
      </svg>
    </button>
    <style>
      #floatingReturnPage4:hover{ transform:translateY(-6px) scale(1.06); box-shadow:0 14px 34px rgba(0,0,0,0.62); }
      #floatingReturnPage4:active{ transform:translateY(-2px) scale(0.98); }
    </style>
</div>

<!-- PAGE 3 (Astronomical Theme) -->
<!-- PAGE 3 removed: intermediate Astronomical page was removed per user request. -->

<!-- NEW: PAGE Astronomical Dark Blue Theme -->
<div id="pageAstronomicalDark" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background: linear-gradient(180deg,#001427 0%, #001f3f 60%, #00162b 100%); color: #f0f8ff; z-index:2500; text-align:center;">
  <div style="position:absolute;top:0;left:0;width:100vw;height:100vh;overflow:hidden;pointer-events:none;z-index:1;">
    <canvas id="darkAstroCanvas" style="width:100vw;height:100vh;"></canvas>
  </div>
  <div style="position:relative;z-index:2;padding-top:80px;">
    <h1 style="font-size:3.6rem;letter-spacing:2px;color:#cfeffd;text-shadow:0 2px 10px rgba(0,0,0,0.8);">Astronomical Night — Dark Blue Theme</h1>
    <p style="font-size:1.6rem;color:#d6f3ff;max-width:900px;margin:18px auto;">A calm deep-blue cosmic scene with twinkling stars and gentle parallax — crafted for a moody astronomical vibe.</p>
    <div style="margin-top:36px;">
      <button onclick="backToPage2FromAstronomical()" style="margin-top:20px;background: linear-gradient(90deg,#0b2540,#163b5a); color: #f0f8ff; border:2px solid rgba(200,230,255,0.08); border-radius:18px; font-size:1.05em; padding:10px 28px; box-shadow:0 6px 30px rgba(2,20,40,0.6);">⬅ Return to Menu</button>
    </div>
    <!-- Cute floating back button (SVG) -->
    <button id="cuteBackBtn" onclick="backToPage2FromAstronomical()" title="PILICHH — Back" aria-label="Back" style="position:fixed;left:22px;top:22px;z-index:2600;width:56px;height:56px;border-radius:50%;border:none;background:linear-gradient(180deg,#ffd1dc,#ff9fb8);color:#2b1b2b;font-size:24px;box-shadow:0 8px 26px rgba(0,0,0,0.5);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform 0.18s ease, box-shadow 0.18s ease;">
      <!-- inline SVG bunny, simple and cute -->
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M7 7c-.8-1-2.5-1.2-3.5.2C1.8 9 2 11 3.5 12.2c1.3 1 3 0.8 4-0.4" fill="#fff" opacity="0.05"/>
        <path d="M9 9c0-2.2 1.8-4 4-4s4 1.8 4 4v3c0 1.9-1.6 3.5-3.5 3.5S10 13.9 10 12v-3z" fill="#fff" opacity="0.12"/>
        <g transform="translate(2,2)">
          <ellipse cx="5" cy="5" rx="4" ry="4" fill="#fff" opacity="0.9"/>
          <path d="M2 2c1-2 4-3 6-1c2 2 1 5-2 6" fill="#2b1b2b"/>
          <circle cx="7" cy="6" r="0.8" fill="#2b1b2b"/>
        </g>
      </svg>
    </button>
    <style>
      #cuteBackBtn:hover{ transform:translateY(-6px) scale(1.06); box-shadow:0 14px 34px rgba(0,0,0,0.55); }
      #cuteBackBtn:active{ transform:translateY(-2px) scale(0.98); }
    </style>

    <script>
      // Handle Escape key to go back when the dark astronomical page is visible
      document.addEventListener('keydown', function(e){
        if (e.key === 'Escape' || e.key === 'Esc') {
          const el = document.getElementById('pageAstronomicalDark');
          if (el && el.style.display !== 'none') {
            backToPage2FromAstronomical();
          }
        }
      });
    </script>
  </div>
</div>

<!-- PAGE 5 (Mathematics Theme) -->
<div id="page5" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background: linear-gradient(135deg, #185a9d 0%, #43cea2 100%); color: #fff; z-index:2000; text-align:center;">
  <div style="position:absolute;top:0;left:0;width:100vw;height:100vh;overflow:hidden;pointer-events:none;z-index:1;">
    <canvas id="mathCanvas" style="width:100vw;height:100vh;"></canvas>
  </div>
  <div style="position:relative;z-index:2;padding-top:80px;">
    <h1 style="font-size:3.5rem;letter-spacing:2px;font-family:'Caveat', 'Comic Sans MS', cursive; color:#fff; text-shadow: 0 2px 0 #222, 0 0 18px #0f0;">
      <span style="font-family:'Times New Roman',serif;font-size:1.2em;">𝓜𝓪𝓽𝓱𝓮𝓶𝓪𝓽𝓲𝓬𝓼 𝓦𝓸𝓻𝓵𝓭</span><br/>
      <span style="font-size:2.2rem; color:#fffa;">∫ <b>Σ</b> π ∞ √ α β γ δ θ λ μ φ Ω</span>
    </h1>
    <p style="font-size:2.1rem; color:#fffbe7; font-family:'Caveat',cursive; text-shadow:0 0 8px #0f0; margin-bottom:32px;">Where numbers, symbols, and logic come alive!</p>
    <div style="font-size:1.5rem; color:#fff; font-family:'Fira Mono',monospace; background:rgba(0,0,0,0.45); display:inline-block; padding:12px 28px; border-radius:18px; box-shadow:0 0 18px #0f0; margin-bottom:18px;">
      <span style="font-size:1.2em;">E = mc²</span> &nbsp; | &nbsp; <span style="font-size:1.1em;">a² + b² = c²</span> &nbsp; | &nbsp; <span style="font-size:1.1em;">e<sup>iπ</sup> + 1 = 0</span>
    </div>
    <br/>
  <button onclick="backToPage2From5()" style="margin-top:40px;background:#222;color:#43cea2;font-family:'Fira Mono',monospace;font-size:1.1em;">⬅ Back to the Nebula</button>
  </div>
  <!-- Floating return button for page5 -->
  <button id="floatingReturnPage5" onclick="backToPage2From5()" title="Return to Menu" aria-label="Return to Menu" style="position:fixed;left:18px;top:18px;z-index:2100;width:56px;height:56px;border-radius:50%;border:none;background:linear-gradient(180deg,#ffd1dc,#ff9fb8);color:#2b1b2b;font-size:20px;box-shadow:0 8px 26px rgba(0,0,0,0.6);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform 0.18s ease, box-shadow 0.18s ease;">
    <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M7 7c-.8-1-2.5-1.2-3.5.2C1.8 9 2 11 3.5 12.2c1.3 1 3 0.8 4-0.4" fill="#fff" opacity="0.05"/>
      <path d="M9 9c0-2.2 1.8-4 4-4s4 1.8 4 4v1c0 1.9-1.6 3.5-3.5 3.5S10 13.9 10 12v-3z" fill="#fff" opacity="0.12"/>
    </svg>
  </button>
  <style>
    #floatingReturnPage5:hover{ transform:translateY(-6px) scale(1.06); box-shadow:0 14px 34px rgba(0,0,0,0.62); }
    #floatingReturnPage5:active{ transform:translateY(-2px) scale(0.98); }
  </style>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Fira+Mono:wght@500&display=swap" rel="stylesheet">
</div>
<script>
// Mathematics page navigation and animation
function goToPage5() {
  console.log('goToPage5() called');
  const p2 = document.getElementById('page2');
  const p5 = document.getElementById('page5');
  if (p2) p2.style.display = 'none';
  if (p5) p5.style.display = 'block';
  try { startMathAnimation(); } catch(e){ console.warn('startMathAnimation failed', e); }
}
function backToPage2From5() {
  console.log('backToPage2From5() called');
  try { pauseBackgroundMusic(); } catch(e){}
  const p5 = document.getElementById('page5');
  const p2 = document.getElementById('page2');
  if (p5) p5.style.display = 'none';
  if (p2) p2.style.display = 'block';
}

// Mathematics animation: animated fractal tree
function startMathAnimation() {
  const canvas = document.getElementById('mathCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // Draw animated fractal tree
  let angle = Math.PI/2;
  function drawTree(x, y, len, a, depth) {
    if (depth === 0) return;
    const x2 = x + Math.cos(a) * len;
    const y2 = y - Math.sin(a) * len;
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.lineTo(x2, y2);
    ctx.strokeStyle = `hsl(${180+depth*20},80%,70%)`;
    ctx.lineWidth = depth+1;
    ctx.shadowColor = ctx.strokeStyle;
    ctx.shadowBlur = 12;
    ctx.stroke();
    drawTree(x2, y2, len*0.7, a-Math.PI/7, depth-1);
    drawTree(x2, y2, len*0.7, a+Math.PI/7, depth-1);
  }
  function animate() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawTree(canvas.width/2, canvas.height-40, 120, angle, 10);
    angle += 0.01;
    requestAnimationFrame(animate);
  }
  animate();
}
function playMusic() {
  var audio = document.getElementById('luxuriousSong');
  audio.volume = 1;
  audio.play();
}
// Physics page navigation and animation
function goToPage4() {
  console.log('goToPage4() called');
  const p2 = document.getElementById('page2');
  const p4 = document.getElementById('page4');
  if (p2) p2.style.display = 'none';
  if (p4) p4.style.display = 'block';
  try { startPhysicsAnimation(); } catch(e){ console.warn('startPhysicsAnimation failed', e); }
}
function backToPage2From4() {
  console.log('backToPage2From4() called');
  try { pauseBackgroundMusic(); } catch(e){}
  const p4 = document.getElementById('page4');
  const p2 = document.getElementById('page2');
  if (p4) p4.style.display = 'none';
  if (p2) p2.style.display = 'block';
}

// Physics animation: bouncing balls with gravity
function startPhysicsAnimation() {
  const canvas = document.getElementById('physicsCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);
  // Ball physics
  const balls = Array.from({length: 12}, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height * 0.5,
    vx: (Math.random()-0.5)*6,
    vy: Math.random()*2,
    r: 22 + Math.random()*18,
    color: `hsl(${Math.random()*360},80%,60%)`,
    gravity: 0.25 + Math.random()*0.1,
    bounce: 0.7 + Math.random()*0.15
  }));
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for (const b of balls) {
      ctx.save();
      ctx.beginPath();
      ctx.arc(b.x, b.y, b.r, 0, 2*Math.PI);
      ctx.fillStyle = b.color;
      ctx.shadowColor = b.color;
      ctx.shadowBlur = 18;
      ctx.globalAlpha = 0.92;
      ctx.fill();
      ctx.restore();
    }
  }
  function update() {
    for (const b of balls) {
      b.x += b.vx;
      b.y += b.vy;
      b.vy += b.gravity;
      // Bounce off floor
      if (b.y + b.r > canvas.height) {
        b.y = canvas.height - b.r;
        b.vy *= -b.bounce;
        // Friction
        b.vx *= 0.98;
      }
      // Bounce off walls
      if (b.x - b.r < 0) {
        b.x = b.r;
        b.vx *= -b.bounce;
      } else if (b.x + b.r > canvas.width) {
        b.x = canvas.width - b.r;
        b.vx *= -b.bounce;
      }
    }
  }
  function animate() {
    draw();
    update();
    requestAnimationFrame(animate);
  }
  animate();
}
// Intermediate astronomical page and its stars animation removed; final dark page `pageAstronomicalDark` is used instead.

// Background music control using YouTube IFrame API
// Helper to pause background music (works for audio fallback or YT)
function pauseBackgroundMusic() {
    try {
      const a = document.getElementById('bgAudio');
      if (a && !a.paused) { try { a.pause(); } catch(e){}; return; }
      // fallback: if a YT player still exists, pause it
      if (window.ytPlayer && typeof window.ytPlayer.pauseVideo === 'function') {
        window.ytPlayer.pauseVideo();
        return;
      }
  } catch(e) {}
}

(function(){
  // Play/pause button removed; no musicIcon element
  const musicToggleBtn = document.getElementById('musicToggleBtn');
  const musicToggleIcon = document.getElementById('musicToggleIcon');
  const volSlider = document.getElementById('volumeSlider');
  let initialVolume = volSlider ? parseFloat(volSlider.value) : 0.6;

  // update the play/pause icon based on playing state
  function setPlayIcon(isPlaying) {
    if (!musicToggleIcon) return;
    musicToggleIcon.innerHTML = '';
    if (isPlaying) {
      // show pause icon
      musicToggleIcon.innerHTML = '<rect x="6" y="5" width="3" height="14" fill="#08121a"/><rect x="15" y="5" width="3" height="14" fill="#08121a"/>';
    } else {
      // show play icon
      musicToggleIcon.innerHTML = '<path d="M7 5v14l11-7z" fill="#08121a"/>';
    }
  }

  // optimistic initial state: assume playing (YT will try to autoplay)
  try { setPlayIcon(true); } catch(e){}

  // Use HTMLAudioElement instead of YouTube player
  const bgAudio = document.getElementById('bgAudio');
  if (bgAudio) {
    try { bgAudio.volume = initialVolume; } catch(e){}
    // Update icon on native events
    bgAudio.addEventListener('play', function(){ try { setPlayIcon(true); } catch(e){} });
    bgAudio.addEventListener('pause', function(){ try { setPlayIcon(false); } catch(e){} });
    // try autoplay; it's okay if blocked by browser
    try { bgAudio.play().catch(function(){ /* autoplay blocked */ }); } catch(e){}
  }

  // play/pause toggle for the cosmic button (uses bgAudio)
  if (musicToggleBtn) {
    musicToggleBtn.addEventListener('click', function(){
      try {
        const a = document.getElementById('bgAudio');
        if (a) {
          if (!a.paused) { a.pause(); setPlayIcon(false); }
          else { a.play().then(()=>setPlayIcon(true)).catch(()=>setPlayIcon(true)); }
          return;
        }
        // fallback: if YT player exists
        if (window.ytPlayer && typeof window.ytPlayer.getPlayerState === 'function') {
          const state = window.ytPlayer.getPlayerState ? window.ytPlayer.getPlayerState() : null;
          if (state === 1) { if (typeof window.ytPlayer.pauseVideo === 'function') window.ytPlayer.pauseVideo(); setPlayIcon(false); }
          else { if (typeof window.ytPlayer.playVideo === 'function') window.ytPlayer.playVideo(); setPlayIcon(true); }
        }
      } catch(e) { console.warn('music toggle error', e); }
    });
  }

  if (volSlider) {
    volSlider.addEventListener('input', function(){
      const v = parseFloat(this.value);
      initialVolume = v;
      const a = document.getElementById('bgAudio');
      if (a) {
        try { a.volume = v; if (v === 0) a.muted = true; else a.muted = false; } catch(e){}
        return;
      }
      if (window.ytPlayer && typeof window.ytPlayer.setVolume === 'function') {
        window.ytPlayer.setVolume(Math.round(v*100));
        if (v === 0) { window.ytPlayer.mute(); } else { window.ytPlayer.unMute(); }
      }
    });
  }

})();

// Cute cosmic play button initializer (top-level)
(function(){
  const cuteBtn = document.getElementById('cuteCosmicPlayBtn');
  const cuteIcon = document.getElementById('cuteCosmicPlayIcon');
  const cutePlayShape = cuteIcon ? cuteIcon.querySelector('#cutePlayShape') : null;
  const volSlider = document.getElementById('volumeSlider');
  let initialVolume = volSlider ? parseFloat(volSlider.value) : 0.6;
  const bgAudio = document.getElementById('bgAudio');

  function setCutePlayIcon(isPlaying) {
    if (!cuteIcon || !cutePlayShape) return;
    if (isPlaying) {
      cutePlayShape.setAttribute('d', 'M13 10 h3 v12 h-3z M18 10 h3 v12 h-3z');
      const smile = cuteIcon.querySelector('path[stroke="#ffd1dc"]');
      if (smile) smile.setAttribute('d', 'M14 19 Q16 23 18 19');
    } else {
      cutePlayShape.setAttribute('d', 'M13 11v10l8-5z');
      const smile = cuteIcon.querySelector('path[stroke="#ffd1dc"]');
      if (smile) smile.setAttribute('d', 'M14 19 Q16 21 18 19');
    }
  }

  if (bgAudio) {
    try { bgAudio.volume = initialVolume; } catch(e){}
    bgAudio.addEventListener('play', function(){ setCutePlayIcon(true); });
    bgAudio.addEventListener('pause', function(){ setCutePlayIcon(false); });
    try { bgAudio.play().catch(function(){ /* autoplay blocked */ }); } catch(e){}
  }

  if (cuteBtn) {
    cuteBtn.addEventListener('click', function(){
      if (!bgAudio) return;
      if (!bgAudio.paused) { bgAudio.pause(); setCutePlayIcon(false); }
      else { bgAudio.play().then(()=>setCutePlayIcon(true)).catch(()=>setCutePlayIcon(true)); }
    });
  }

  if (volSlider) {
    volSlider.addEventListener('input', function(){
      const v = parseFloat(this.value);
      initialVolume = v;
      if (bgAudio) {
        try { bgAudio.volume = v; bgAudio.muted = (v === 0); } catch(e){}
      }
    });
  }

  setTimeout(function(){ setCutePlayIcon(bgAudio && !bgAudio.paused); }, 300);

})();

// pink audio removed

// Dark Astronomical page navigation and animation
function goToAstronomicalDark() {
  console.log('goToAstronomicalDark() called');
  try { pauseBackgroundMusic(); } catch(e){}
  const p2 = document.getElementById('page2');
  const dark = document.getElementById('pageAstronomicalDark');
  if (p2) p2.style.display = 'none';
  if (dark) {
    dark.style.display = 'block';
    try { startDarkAstroStars(); } catch(e){ console.warn('startDarkAstroStars failed', e); }
  }
}

function backToPage2FromAstronomical() {
  // stop animation then hide the dark astronomical page
  console.log('backToPage2FromAstronomical() called');
  stopDarkAstroStars();
  try { pauseBackgroundMusic(); } catch(e){}
  document.getElementById('pageAstronomicalDark').style.display = 'none';
  document.getElementById('page2').style.display = 'block';
}

function startDarkAstroStars() {
  const canvas = document.getElementById('darkAstroCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);

  const stars = Array.from({length: 200}, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 1.6 + 0.4,
    alpha: Math.random() * 0.8 + 0.2,
    twinkle: Math.random() * Math.PI * 2,
    speed: Math.random() * 0.02
  }));

  let running = true;
  let rafId = null;
  function draw() {
    if (!running) return;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // subtle nebula gradient
    const g = ctx.createLinearGradient(0,0,0,canvas.height);
    g.addColorStop(0, 'rgba(0,20,40,0.05)');
    g.addColorStop(0.6, 'rgba(0,38,70,0.12)');
    g.addColorStop(1, 'rgba(0,10,20,0.18)');
    ctx.fillStyle = g;
    ctx.fillRect(0,0,canvas.width,canvas.height);

    for (const s of stars) {
      s.twinkle += s.speed;
      const a = s.alpha * (0.6 + 0.4 * Math.sin(s.twinkle));
      ctx.beginPath();
      ctx.globalAlpha = Math.max(0.15, Math.min(1, a));
      ctx.fillStyle = '#eaf6ff';
      ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
      ctx.fill();
      // very slight vertical drift
      s.y += 0.02;
      if (s.y > canvas.height + 10) s.y = -10;
    }
    ctx.globalAlpha = 1;
    rafId = requestAnimationFrame(draw);
    if (window.darkAstroController) window.darkAstroController.rafId = rafId;
  }
  // start drawing
  draw();

  // ensure we stop drawing when leaving the page: attach one-time listener
  function onHide() {
    running = false;
    if (rafId) cancelAnimationFrame(rafId);
    rafId = null;
    window.removeEventListener('resize', resize);
    document.removeEventListener('click', onHide);
  }
  // if user clicks Return button, running will be stopped by hiding the div and not redrawing further
  document.addEventListener('click', function stopIfBack(ev){
    // if the back button was clicked, it will hide the page; check visibility
    const el = document.getElementById('pageAstronomicalDark');
    if (!el || el.style.display === 'none') {
      running = false;
      if (rafId) cancelAnimationFrame(rafId);
      rafId = null;
      window.removeEventListener('resize', resize);
      document.removeEventListener('click', stopIfBack);
    }
  });

  // expose controller so other code (buttons) can stop the animation
  window.darkAstroController = {
    rafId: rafId,
    stop() {
      running = false;
      const id = this.rafId || rafId;
      if (id) cancelAnimationFrame(id);
      this.rafId = null;
      rafId = null;
      try { window.removeEventListener('resize', resize); } catch(e){}
    },
    isRunning() { return running; }
  };
}

function stopDarkAstroStars() {
  if (window.darkAstroController && typeof window.darkAstroController.stop === 'function') {
    window.darkAstroController.stop();
    // clear canvas to show it's stopped
    const c = document.getElementById('darkAstroCanvas');
    if (c) c.getContext('2d').clearRect(0,0,c.width,c.height);
  }
}


// Falling stars animation (high wind)
let stars = [];
const STAR_EMOJI = '';
const STAR_COUNT = 40;

function resizeStarCanvas() {
  const canvas = document.getElementById('petalCanvas');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  canvas.style.width = window.innerWidth + 'px';
  canvas.style.height = window.innerHeight + 'px';
}

function createStar() {
  const canvas = document.getElementById('petalCanvas');
  return {
    x: Math.random() * canvas.width,
    y: Math.random() * -canvas.height,
    size: 32 + Math.random() * 32,
    speedY: 4 + Math.random() * 4, // fast fall
    speedX: 6 + Math.random() * 8, // strong wind
    sway: (Math.random() - 0.5) * 8,
    swaySpeed: 0.02 + Math.random() * 0.04,
    swayAngle: Math.random() * Math.PI * 2,
    alpha: 0.85 + Math.random() * 0.15
  };
}

function addStars(num) {
  for (let i = 0; i < num; i++) {
    stars.push(createStar());
  }
}

function drawStars() {
  const canvas = document.getElementById('petalCanvas');
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let s of stars) {
    ctx.save();
    ctx.font = `${s.size}px serif`;
    ctx.globalAlpha = s.alpha;
    ctx.translate(s.x, s.y);
    ctx.rotate(Math.sin(s.swayAngle) * 0.3);
    ctx.fillText(STAR_EMOJI, 0, 0);
    ctx.restore();
  }
}

function updateStars() {
  const canvas = document.getElementById('petalCanvas');
  for (let s of stars) {
    s.y += s.speedY;
    s.x += s.speedX + Math.sin(s.swayAngle) * s.sway;
    s.swayAngle += s.swaySpeed;
    if (s.y > canvas.height + 40 || s.x < -40 || s.x > canvas.width + 40) {
      Object.assign(s, createStar(), {y: -20});
    }
  }
}

function animateStars() {
  drawStars();
  updateStars();
  requestAnimationFrame(animateStars);
}

window.addEventListener('DOMContentLoaded', () => {
  resizeStarCanvas();
  window.addEventListener('resize', resizeStarCanvas);
  stars = [];
  addStars(STAR_COUNT);
  animateStars();
});

// Mascot animation logic for both mascots
function setupMascotMascots() {
  document.querySelectorAll('.mascotContainer').forEach(function(container) {
    const mascot = container.querySelector('.mascotAstronaut');
  const armL = mascot ? mascot.querySelector('.mascotArmL') : null;
  // Add right arm for clapping
  const armR = mascot ? mascot.querySelector('rect[x="82"]') : null;
    const eyeL = mascot ? mascot.querySelector('.mascotEyeL') : null;
    const eyeR = mascot ? mascot.querySelector('.mascotEyeR') : null;
    const speech = container.querySelector('.mascotSpeech');
    let mascotWaving = false;
    let mascotBlinkTimeout = null;

    // mascotClap previously animated arms; disabled per user request
    function mascotClap() {
      // No-op: clapping by arm transforms was removed. Use blinks instead.
      try { mascotBlink(); } catch(e) {}
    }

    function mascotBlink() {
      if (!eyeL || !eyeR) return;
      // quick blink
      eyeL.setAttribute('ry', '2');
      eyeR.setAttribute('ry', '2');
      setTimeout(() => {
        eyeL.setAttribute('ry', '8');
        eyeR.setAttribute('ry', '8');
      }, 140);
      // schedule next blink sooner for more frequent blinking
      mascotBlinkTimeout = setTimeout(mascotBlink, 1200 + Math.random()*800);
    }

    function mascotSay(msg) {
      if (!speech) return;
      speech.textContent = msg;
      speech.style.display = 'block';
      setTimeout(() => { speech.style.display = 'none'; }, 1800);
    }

    if (mascot) {
      mascot.addEventListener('click', () => {
        if (mascotWaving) return;
        // Instead of arm-clapping, make mascots blink more and show speech
        document.querySelectorAll('.mascotContainer').forEach(function(syncContainer) {
          const syncMascot = syncContainer.querySelector('.mascotAstronaut');
          const syncEyeL = syncMascot ? syncMascot.querySelector('.mascotEyeL') : null;
          const syncEyeR = syncMascot ? syncMascot.querySelector('.mascotEyeR') : null;
          if (syncEyeL && syncEyeR) {
            // double blink sequence
            syncEyeL.setAttribute('ry', '2');
            syncEyeR.setAttribute('ry', '2');
            setTimeout(() => {
              syncEyeL.setAttribute('ry', '8');
              syncEyeR.setAttribute('ry', '8');
            }, 120);
            setTimeout(() => {
              syncEyeL.setAttribute('ry', '2');
              syncEyeR.setAttribute('ry', '2');
            }, 300);
            setTimeout(() => {
              syncEyeL.setAttribute('ry', '8');
              syncEyeR.setAttribute('ry', '8');
            }, 420);
          }
          // Show speech bubble
          const syncSpeech = syncContainer.querySelector('.mascotSpeech');
          if (syncSpeech) {
            syncSpeech.textContent = [
              "� Hey!",
              "Blink blink!",
              "Hi there!",
              "We see you!",
              "Nice to meet you!"
            ][Math.floor(Math.random()*5)];
            syncSpeech.style.display = 'block';
            setTimeout(() => { syncSpeech.style.display = 'none'; }, 1400);
          }
        });
        // keep jump effect
        try { doJumpAll(); } catch(e) {}
      });
      // Removed pointerdown handler (touch triggers will use click by default)
      // Initial wave and blink
      // Wave on hover
      let waving = false;
      let waveTimeout = null;
      function doWave() {
        if (!waving || !armL) return;
  armL.style.transition = 'transform 0.3s cubic-bezier(.68,-0.55,.27,1.55)';
  armL.style.transform = 'rotate(-30deg)';
        setTimeout(() => {
          armL.style.transform = 'rotate(0deg)';
          if (waving) {
            waveTimeout = setTimeout(doWave, 350);
          }
        }, 350);
      }
      function doJumpAll() {
        document.querySelectorAll('.mascotAstronaut').forEach(function(syncMascot) {
          syncMascot.style.transition = 'transform 0.35s cubic-bezier(.68,-0.55,.27,1.55)';
          syncMascot.style.transform = 'translateY(-38px)';
          setTimeout(() => {
            syncMascot.style.transform = 'translateY(0)';
          }, 350);
        });
      }
      mascot.addEventListener('mouseenter', () => {
        if (!waving) {
          waving = true;
          doWave();
        }
        doJumpAll();
      });
      mascot.addEventListener('mouseleave', () => {
        waving = false;
        if (waveTimeout) clearTimeout(waveTimeout);
        if (armL) armL.style.transform = 'rotate(0deg)';
      });
      mascotBlinkTimeout = setTimeout(mascotBlink, 1800);
    }
  });
}

window.addEventListener('DOMContentLoaded', setupMascotMascots);
// Cute animated cosmos stars for first page
function startCuteCosmoStars() {
  const canvas = document.getElementById('cuteCosmoStars');
  if (!canvas) return;
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);
  const ctx = canvas.getContext('2d');
  const starColors = ['#fff', '#ffe1fa', '#b3e0ff', '#ffd1dc', '#f8e1ff', '#aee9f9'];
  let stars = Array.from({length: 60}, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: 1.2 + Math.random() * 1.8,
    color: starColors[Math.floor(Math.random()*starColors.length)],
    tw: Math.random()*Math.PI*2,
    speed: 0.008 + Math.random()*0.012
  }));
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for (const s of stars) {
      ctx.save();
      ctx.globalAlpha = 0.7 + 0.3*Math.sin(s.tw);
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, 2*Math.PI);
      ctx.fillStyle = s.color;
      ctx.shadowColor = s.color;
      ctx.shadowBlur = 8;
      ctx.fill();
      ctx.restore();
      s.tw += s.speed;
    }
    requestAnimationFrame(draw);
  }
  draw();
}
window.addEventListener('DOMContentLoaded', startCuteCosmoStars);
</script>

<script>
const bunny = document.getElementById('bunny');
const moodText = document.getElementById('moodText');
// floating hearts
function createHearts(){
    let hearts = document.getElementById("hearts");
    let span = document.createElement("span");
    span.innerHTML = "❤️";
    span.style.left = Math.random() * window.innerWidth + "px";
    span.style.fontSize = Math.random() * 20 + 15 + "px";
    hearts.appendChild(span);
    setTimeout(()=>{span.remove();},6000);
}
function reactNo() {
  bunny.src = "https://i.pinimg.com/736x/61/d2/e2/61d2e2a35a7c07b38e4e06ab2d4d1551.jpg"; // angry bunny
  moodText.textContent = 'Bunny is angry! 😡';
}

function goToPage2() {
  console.log('goToPage2() called');
  // show a confirmation/welcome modal before navigating to page2
  if (typeof showAstroModal === 'function') {
    console.log('showAstroModal() exists, opening modal');
    showAstroModal();
    return;
  }
  // fallback: if modal function missing, navigate directly
  console.log('No modal function found; navigating directly to page2');
  const p1 = document.getElementById('page1');
  const p2 = document.getElementById('page2');
  if (p1) p1.style.display = 'none';
  if (p2) p2.style.display = 'block';
}



function backToPage1() {
  console.log('backToPage1() called');
  try { pauseBackgroundMusic(); } catch(e){}
  const p2 = document.getElementById('page2');
  const p1 = document.getElementById('page1');
  if (p2) p2.style.display = 'none';
  if (p1) p1.style.display = 'block';
}

// Show the astro modal (used by the YES button)
function showAstroModal() {
  const modal = document.getElementById('astroModal');
  if (!modal) return;
  console.log('showAstroModal() called');
  // display modal centered using flex (matches layout in markup)
  modal.style.display = 'flex';
  modal.setAttribute('aria-hidden', 'false');
  // prevent background scrolling while modal is open
  try { document.body.style.overflow = 'hidden'; } catch (e) {}
  // focus the primary button inside the modal for accessibility
  const okBtn = modal.querySelector('button');
  if (okBtn && typeof okBtn.focus === 'function') okBtn.focus();
}

// Close the astro modal and navigate to page2
function closeAstroModal() {
  const modal = document.getElementById('astroModal');
  if (modal) {
    modal.style.display = 'none';
    modal.setAttribute('aria-hidden', 'true');
  }
  console.log('closeAstroModal() called');
  try { document.body.style.overflow = ''; } catch (e) {}
  // Navigate to page2 (hide page1)
  const p1 = document.getElementById('page1');
  const p2 = document.getElementById('page2');
  if (p1) p1.style.display = 'none';
  if (p2) p2.style.display = 'block';
  // start any animations on page2 if necessary
  try { if (typeof startCuteCosmoStars === 'function') startCuteCosmoStars(); } catch (e) {}
}

// Ensure the floating return button on page1 exists and routes correctly
function backToMenuFromPage1() {
  console.log('backToMenuFromPage1() called');
  // Route to page2 (portal/menu)
  const p1 = document.getElementById('page1');
  const p2 = document.getElementById('page2');
  if (p1) p1.style.display = 'none';
  if (p2) p2.style.display = 'block';
}
</script>

</body>
</html>
